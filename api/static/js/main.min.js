'use strict'
document.addEventListener('DOMContentLoaded', function () {
  var e = window,
    t = e.svg4everybody,
    d = e.anime,
    o = e.Swiper,
    r = e.lightGallery
  function n() {
    var e = document.querySelector('.header'),
      t = document.querySelector('.s-hero'),
      o = document.querySelector('.footer-menu'),
      r = e.offsetHeight,
      n = t.offsetHeight,
      a = o.getBoundingClientRect(),
      i = window.pageYOffset,
      s = Math.floor(a.top + i + 50),
      l = document.querySelectorAll('.headline-title'),
      c = window.pageYOffset
    0 === c && e.classList.remove('header--lg'),
      r + 100 < c &&
        (e.classList.remove('header--lg'),
        (e.style.position = 'fixed'),
        (e.style.top = '-'.concat(r, 'px')),
        (e.style.backgroundColor = '#000000')),
      n < c && (e.classList.add('header--lg'), (e.style.top = '0'), (e.style.transition = 'top .3s ease-out')),
      c < r + 100 &&
        ((e.style.position = 'absolute'),
        (e.style.top = '0'),
        (e.style.backgroundColor = 'transparent'),
        (e.style.transition = 'none')),
      c + window.innerHeight > s &&
        (e.classList.remove('header--lg'),
        (e.style.top = '-'.concat(r, 'px')),
        (e.style.transition = 'top .3s ease-out')),
      l.forEach(function (e) {
        if (!e.classList.contains('visible')) {
          var t = e.getBoundingClientRect().top,
            o = Math.floor(t + i + 70)
          if (c + window.innerHeight > o)
            e.classList.add('visible'),
              d
                .timeline({ easing: 'easeOutExpo', duration: 900 })
                .add(
                  {
                    targets: e.querySelector('.revealer-element'),
                    translateX: ['-101%', '0%'],
                    complete: function () {
                      e.style.visibility = 'visible'
                    },
                  },
                  0
                )
                .add(
                  {
                    targets: e.parentNode.querySelector('.tag .revealer-element'),
                    translateX: ['-101%', '0%'],
                    complete: function () {
                      e.parentNode.querySelector('.tag').style.visibility = 'visible'
                    },
                  },
                  0
                )
                .add({
                  targets: e.parentNode.querySelector('.tag .revealer-element'),
                  translateX: '105%',
                  complete: function () {
                    e.parentNode.querySelector('.tag .revealer-element').remove()
                  },
                })
                .add({
                  targets: e.querySelector('.revealer-element'),
                  translateX: '105%',
                  complete: function () {
                    e.querySelector('.revealer-element').remove(), (e.style.overflow = 'initial')
                  },
                })
                .add({ targets: e.querySelector('.decot-line'), width: ['0', '60px'], duration: 400, offet: '-=900' })
                .add({ targets: e.parentNode.querySelector('.tag .decot-line'), translateX: '105%' })
        }
      })
  }
  t({}),
    d
      .timeline({ easing: 'easeInSine' })
      .add({ targets: '.first-word span', translateX: ['101%', '0'], opacity: ['0', '1'], delay: 300, duration: 500 })
      .add({
        targets: '.second-word span',
        translateX: ['-101%', '0'],
        opacity: ['0', '1'],
        duration: 900,
        complete: function () {
          d({
            targets: '.header-top .main-nav__link',
            translateY: ['20px', '0'],
            opacity: ['0', '1'],
            delay: d.stagger(70),
            duration: 200,
            easing: 'easeOutQuint',
          }),
            d({
              targets: '.hamburger__span',
              translateX: ['100px', '0'],
              translateY: '0',
              rotate: '0',
              opacity: ['0', '1'],
              duration: 700,
              delay: d.stagger(100),
              easing: 'easeInSine',
            }),
            d({
              targets: '.hero__text',
              translateY: ['20px', '0'],
              opacity: ['0', '1'],
              duration: 700,
              easing: 'easeInSine',
            }),
            d({
              targets: '.hero__btn',
              translateY: ['20px', '0'],
              opacity: ['0', '1'],
              duration: 500,
              easing: 'easeInSine',
            }),
            d
              .timeline({ easing: 'easeInSine' })
              .add({ targets: '.logo__text', opacity: ['0', '1'] })
              .add(
                {
                  targets: '.logo__text span',
                  translateY: ['-120px', '0'],
                  opacity: ['0', '1'],
                  duration: 1200,
                  easing: 'easeOutBounce',
                },
                '-=500'
              )
              .add(
                {
                  targets: '.logo__icon',
                  translateX: ['-120px', '0'],
                  opacity: ['0', '1'],
                  duration: 200,
                  easing: 'easeOutBounce',
                },
                '-=500'
              )
              .add({ targets: '.logo__icon', rotate: ['0deg', '25deg'], duration: 500 })
              .add({ targets: '.logo__icon', rotate: ['25deg', '0deg'], duration: 400 })
        },
      }),
    window.matchMedia('(min-width: 992px)').matches && n()
  var a = document.querySelector('.hamburger'),
    i = document.querySelector('.main-nav'),
    s = document.querySelectorAll('.main-nav__link'),
    l = document.querySelector('body')
  function c() {
    window.matchMedia('(max-width: 992px)').matches &&
      (a.classList.toggle('hamburger--open'), i.classList.toggle('main-nav--open'), l.classList.toggle('open'))
  }
  a.addEventListener('click', c, !1),
    s.forEach(function (e) {
      e.addEventListener('click', c, !1)
    })
  var g = new o('.gallery-thumbs', {
      spaceBetween: 20,
      slidesPerView: 3,
      freeMode: !0,
      watchSlidesVisibility: !0,
      watchSlidesProgress: !0,
    }),
    u = new o('.gallery-top', { spaceBetween: 10, thumbs: { swiper: g } })
  document.querySelector('.about__more').addEventListener(
    'click',
    function () {
      var e = document.querySelector('.about__text')
      e.classList.toggle('open')
      var t = e.classList.contains('open')
        ? (function (e) {
            return e.scrollHeight
          })(e)
        : ''
      e.style = 'height: '.concat(t, 'px')
    },
    !1
  )
  var p = new o('.multiple', {
    spaceBetween: 32,
    pagination: { el: '.multiple__pagination', clickable: !0 },
    breakpoints: { 640: { slidesPerView: 1, slidesPerGroup: 1 }, 768: { slidesPerView: 2, slidesPerGroup: 2 } },
  })
  var m = new o('.image-gallery__slider', {
    slidesPerView: 1,
    spaceBetween: 30,
    navigation: { nextEl: '.swiper-button-next', prevEl: '.swiper-button-prev' },
    breakpoints: {
      480: { slidesPerView: 2 },
      768: { slidesPerView: 3 },
      1024: { slidesPerView: 4 },
      1280: { slidesPerView: 5 },
    },
  })
  r(document.querySelector('.video-gallery'), {
    addClass: 'video-gallery',
    youtubePlayerParams: { modestbranding: 1, showinfo: 0, rel: 0 },
    nextHtml:
      '<svg class="svg-sprite-icon icon-arrow image-gallery__icon image-gallery__icon--next"><use xlink:href="static/images/svg/symbol/sprite.svg#arrow"></use></svg>',
    prevHtml:
      '<svg class="svg-sprite-icon icon-arrow image-gallery__icon image-gallery__icon--next"><use xlink:href="static/images/svg/symbol/sprite.svg#arrow"></use></svg>',
  }),
    r(document.querySelector('.my-gallery'), {
      addClass: 'my-gallery',
      download: !1,
      nextHtml:
        '<svg class="svg-sprite-icon icon-arrow image-gallery__icon image-gallery__icon--next"><use xlink:href="static/images/svg/symbol/sprite.svg#arrow"></use></svg>',
      prevHtml:
        '<svg class="svg-sprite-icon icon-arrow image-gallery__icon image-gallery__icon--next"><use xlink:href="static/images/svg/symbol/sprite.svg#arrow"></use></svg>',
    })
  var y = document.querySelectorAll('.main-nav__link')
  function v(e) {
    e.preventDefault()
    var t = '#' === e.currentTarget.getAttribute('href') ? 'header' : e.currentTarget.getAttribute('href'),
      o = document.querySelector(t).offsetTop,
      r = window.pageYOffset,
      n = o - r,
      a = 1e3,
      i = null
    window.requestAnimationFrame(function e(t) {
      var o = t - (i = i || t)
      window.scrollTo(
        0,
        (function (e, t, o, r) {
          return (e /= r / 2) < 1 ? (o / 2) * e * e * e + t : (o / 2) * ((e -= 2) * e * e + 2) + t
        })(o, r, n, a)
      ),
        o < a && window.requestAnimationFrame(e)
    })
  }
  function h(e) {
    v(e)
  }
  for (var w = 0; w < y.length; w += 1) y[w].addEventListener('click', h)
  function f() {
    window.matchMedia('(min-width: 992px)').matches
      ? (window.addEventListener('scroll', n),
        document.querySelector('.main-nav--open') &&
          (a.classList.remove('hamburger--open'), i.classList.remove('main-nav--open'), l.classList.remove('open')))
      : window.removeEventListener('scroll', n)
  }
  window.addEventListener('load', f),
    window.addEventListener('resize', function () {
      ;(document.querySelector('.header').style.top = '0'), f()
    })
}),
  navigator.userAgent.match(/Trident.*rv:11\./) && document.querySelector('body').classList.add('ie11'),
  Element.prototype.closest ||
    (Element.prototype.closest = function (e) {
      for (var t = this; t; ) {
        if (t.matches(e)) return t
        t = t.parentElement
      }
      return null
    }),
  Element.prototype.matches ||
    (Element.prototype.matches =
      Element.prototype.matchesSelector ||
      Element.prototype.webkitMatchesSelector ||
      Element.prototype.mozMatchesSelector ||
      Element.prototype.msMatchesSelector),
  Array.from ||
    (Array.from = function (e) {
      return [].slice.call(e)
    }),
  'HTMLCollection' in window &&
    !HTMLCollection.prototype.forEach &&
    (HTMLCollection.prototype.forEach = function (e, t) {
      t = t || window
      for (var o = 0; o < this.length; o += 1) e.call(t, this[o], o, this)
    }),
  window.NodeList && !NodeList.prototype.forEach && (NodeList.prototype.forEach = Array.prototype.forEach),
  (Element.prototype.remove = function () {
    this.parentElement.removeChild(this)
  }),
  (NodeList.prototype.remove = HTMLCollection.prototype.remove =
    function () {
      for (var e = this.length - 1; 0 <= e; e -= 1)
        this[e] && this[e].parentElement && this[e].parentElement.removeChild(this[e])
    })
